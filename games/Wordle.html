<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Custom Wordle | Jer's Playground</title>
  <meta name="description" content="Custom Wordle with coding, geography, and Jer's Playground terms!" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fdf6e3;
      color: #222;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      min-height: 100vh;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    #game {
      max-width: 400px;
      width: 100%;
      margin-top: 1rem;
    }
    .row {
      display: flex;
      justify-content: center;
      margin-bottom: 0.4rem;
    }
    .cell {
      width: 40px;
      height: 40px;
      border: 2px solid #ccc;
      margin: 0 3px;
      text-align: center;
      font-size: 1.5rem;
      text-transform: uppercase;
      line-height: 40px;
      user-select: none;
    }
    .correct {
      background-color: #6aaa64;
      border-color: #6aaa64;
      color: white;
    }
    .present {
      background-color: #c9b458;
      border-color: #c9b458;
      color: white;
    }
    .absent {
      background-color: #787c7e;
      border-color: #787c7e;
      color: white;
    }
    #message {
      margin-top: 1rem;
      font-weight: bold;
    }
    input[type="text"] {
      width: 100%;
      padding: 0.5rem;
      font-size: 1.2rem;
      margin-top: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.2rem;
      box-sizing: border-box;
    }
    button {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Custom Wordle</h1>
  <p>Guess the word! Terms from coding, geography, and Jerâ€™s Playground.</p>

  <div id="game"></div>

  <input type="text" id="guess-input" maxlength="10" placeholder="Enter your guess" />
  <button id="submit-btn">Submit Guess</button>

  <div id="message"></div>

  <script>
    // Word list includes coding, geography, and Jer's Playground terms
    const WORDS = [
      "PLAYGROUND", "JER", "PAINTPARTY", "SANDBOX", "WORDLE", "CODING",
      "GEOGRAPHY", "PUZZLE", "CHALLENGE", "CLICK", "SHAPES", "ASTROTAP",
      "QUIZ", "NOISE", "BOUNCY", "CREATIVE"
    ];

    const maxGuesses = 6;
    let currentGuess = 0;
    let gameOver = false;

    const gameDiv = document.getElementById('game');
    const guessInput = document.getElementById('guess-input');
    const submitBtn = document.getElementById('submit-btn');
    const messageDiv = document.getElementById('message');

    // Choose random word
    const answer = WORDS[Math.floor(Math.random() * WORDS.length)].toUpperCase();
    const answerLength = answer.length;

    // Initialize board
    function createBoard() {
      for (let i = 0; i < maxGuesses; i++) {
        const row = document.createElement('div');
        row.className = 'row';
        for (let j = 0; j < answerLength; j++) {
          const cell = document.createElement('div');
          cell.className = 'cell';
          row.appendChild(cell);
        }
        gameDiv.appendChild(row);
      }
    }

    // Check guess and color cells
    function checkGuess(guess) {
      guess = guess.toUpperCase();
      if (guess.length !== answerLength) {
        messageDiv.textContent = `Guess must be ${answerLength} letters.`;
        return false;
      }
      const row = gameDiv.children[currentGuess];
      const answerArray = answer.split('');
      const guessArray = guess.split('');

      // Track letters matched
      let letterCount = {};

      // Count letters in answer
      answerArray.forEach(letter => {
        letterCount[letter] = (letterCount[letter] || 0) + 1;
      });

      // First pass: check correct positions
      for (let i = 0; i < answerLength; i++) {
        const cell = row.children[i];
        cell.textContent = guessArray[i];
        if (guessArray[i] === answerArray[i]) {
          cell.classList.add('correct');
          letterCount[guessArray[i]]--;
        }
      }

      // Second pass: check present letters (wrong position)
      for (let i = 0; i < answerLength; i++) {
        const cell = row.children[i];
        if (cell.classList.contains('correct')) continue;

        if (answerArray.includes(guessArray[i]) && letterCount[guessArray[i]] > 0) {
          cell.classList.add('present');
          letterCount[guessArray[i]]--;
        } else {
          cell.classList.add('absent');
        }
      }

      if (guess === answer) {
        messageDiv.textContent = "ðŸŽ‰ You guessed it! Congrats!";
        gameOver = true;
      } else {
        currentGuess++;
        if (currentGuess >= maxGuesses) {
          messageDiv.textContent = `Game over! The word was "${answer}".`;
          gameOver = true;
        } else {
          messageDiv.textContent = `Guesses left: ${maxGuesses - currentGuess}`;
        }
      }
      return true;
    }

    submitBtn.addEventListener('click', () => {
      if (gameOver) return;
      const guess = guessInput.value.trim();
      if (checkGuess(guess)) {
        guessInput.value = '';
      }
    });

    guessInput.addEventListener('keyup', (e) => {
      if (e.key === 'Enter') {
        submitBtn.click();
      }
    });

    // Build the board on page load
    createBoard();
  </script>

</body>
</html>

